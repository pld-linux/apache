--- apache_1.3.22/src/modules/standard/mod_include.c.orig       Thu Oct 18 13:00:13 2001
+++ apache_1.3.22/src/modules/standard/mod_include.c   Thu Oct 18 13:02:01 2001
@@ -718,9 +718,8 @@
                 for (p = r; p != NULL && !founddupe; p = p->main) {
 		    request_rec *q;
 		    for (q = p; q != NULL; q = q->prev) {
-			if ( (q->filename && strcmp(q->filename, rr->filename) == 0) ||
-			     (strcmp(q->uri, rr->uri) == 0) ){
-			    founddupe = 1;
+			if ( (q->filename!=NULL && (strcmp(q->filename, rr->filename) == 0))
+                            || (q->uri!=NULL && (strcmp(q->uri, rr->uri) == 0)) ){			    founddupe = 1;
 			    break;
 			}
 		    }
